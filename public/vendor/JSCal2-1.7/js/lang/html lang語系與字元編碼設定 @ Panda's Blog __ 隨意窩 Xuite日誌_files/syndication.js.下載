!function(){function a(a){return h(b(g(a),a.length*D))}function b(a,b){a[b>>5]|=128<<24-b%32,a[(b+64>>9<<4)+15]=b;for(var g=Array(80),h=1732584193,i=-271733879,j=-1732584194,k=271733878,l=-1009589776,m=0;m<a.length;m+=16){for(var n=h,o=i,p=j,q=k,r=l,s=0;s<80;s++){s<16?g[s]=a[m+s]:g[s]=f(g[s-3]^g[s-8]^g[s-14]^g[s-16],1);var t=e(e(f(h,5),c(s,i,j,k)),e(e(l,g[s]),d(s)));l=k,k=j,j=f(i,30),i=h,h=t}h=e(h,n),i=e(i,o),j=e(j,p),k=e(k,q),l=e(l,r)}return Array(h,i,j,k,l)}function c(a,b,c,d){return a<20?b&c|~b&d:a<40?b^c^d:a<60?b&c|b&d|c&d:b^c^d}function d(a){return a<20?1518500249:a<40?1859775393:a<60?-1894007588:-899497514}function e(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function f(a,b){return a<<b|a>>>32-b}function g(a){for(var b=Array(),c=(1<<D)-1,d=0;d<a.length*D;d+=D)b[d>>5]|=(a.charCodeAt(d/D)&c)<<32-D-d%32;return b}function h(a){for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="",d=0;d<4*a.length;d+=3)for(var e=(a[d>>2]>>8*(3-d%4)&255)<<16|(a[d+1>>2]>>8*(3-(d+1)%4)&255)<<8|a[d+2>>2]>>8*(3-(d+2)%4)&255,f=0;f<4;f++)c+=8*d+6*f>32*a.length?C:b.charAt(e>>6*(3-f)&63);return c}if(void 0===window.ypaAds){var j,k=document,l=k.location,m=l.protocol,n=m.match(/^https?:$/)?m:"https:",o="partnerads.ysm.yahoo.com",p=window,q=p.navigator.userAgent.toLowerCase(),r=function(a){return q.indexOf(a)!==-1},s=-1,t=function(){return s===-1&&(s=r("mobile")&&r("android")||r("iphone")||r("ipod")||(r("blackberry")||r("bb10")||r("rim"))&&r("phone")||r("windows")&&r("phone")||r("(mobile;")&&r("; rv:")||r("meego"),s?Q.deviceKey="Mobile":Q.deviceKey="DeskTop"),s},u=k.getElementsByTagName("head")[0]||k.documentElement,v={},w=function(a){for(var b=0;b<a.waiting.length;b++)a.waiting[b].moduleLoaded(a.module);a.waiting=[]},x=function(a){v[a.name]=a;var b=N.MODULE_URL_ROOT+a.name+".js",c=k.createElement("script"),d=!1;c.src=b,c.onload=c.onreadystatechange=function(){d||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(d=!0,a.loaded=!0,c.onload=c.onreadystatechange=null,setTimeout(function(){u&&c.parentNode&&u.removeChild(c)},N.MODULE_EXECUTION_TIMEOUT))},u.insertBefore(c,u.firstChild),setTimeout(function(){a.loaded||a.module&&!N.GLOBAL_MODULES[a.name]||w(a)},N.MODULE_LOAD_TIMEOUT)},y=function(a,b){var c=v[a];return c?c.loaded?b.moduleLoaded(c.module):c.waiting.push(b):(c={name:a,waiting:[b],loaded:!1},x(c)),c},z=function(a,b,c){this.modules=[],this.modulesCount=a.length,this.callback=b,this.callbackContext=c;for(var d=0;d<a.length;d++)y(a[d],this)},A=p.navigator,B=p.screen,C="=",D=8,E=[],F=k.documentElement,G=function(){for(var a=p.pageYOffset||F.scrollTop||k.body.scrollTop,b=p.pageXOffset||F.scrollLeft||k.body.scrollLeft,c=p.innerWidth,d=p.innerHeight,e=0;e<E.length;){var f=1,g=E[e].ele,h=aa(g),i=h[0],j=h[1],l=g.offsetWidth,m=g.offsetHeight;g.parentElement?i>=b&&j>=a&&i+l<=b+c&&j+m<=a+d&&(E[e].callback.call(E[e].callbackContext),E[e].multiple||(E.splice(e,1),f=0)):(E.splice(e,1),f=0),e+=f}},H=function(a,b){$(a),a.exTQ&&(_(a),delete a.exTQ),b.beaconInstance=new Z(a,b);for(var c=0;c<b.beacons.length;c++)b.beaconInstance.fireBeacon(b.beacons[c][0],b.beacons[c][1]);b.beacons=[]},I=function(a,b,c){c&&(c.spaceid=c.spaceid||N.FALLBACK_SPACE_ID,a.cono&&(c.CoNo=a.cono)),a.fireBeaconBool&&(a.beaconInstance?a.beaconInstance.fireBeacon(b,c):"AdServeEvent"===b?a.adServeData=c:a.beacons.push([b,c]))},J=encodeURIComponent,K={},L=(new Date).getTime(),M={callDetailsObj:null,callDetails:[],validSlots:[],curDetails:0,isYCPI:!1,resetGlobals:function(){M.validSlots=[],M.callDetailsObj=null}},N={HOST_NAME:o,HOST_URL:n+"//"+o,COMPRESS_KEYS:["fontsize","color","underline","bold","onHover.color","onHover.underline"],ENTITIES_KEYS:["Title","Description","URL","LocalAds","MerchantRating","SiteLink","EnhancedSiteLink","SmartAnnotations","OfficialSiteBadge","CallExtension"],SHORTEN_NAME:{SponsoredSearch:"ss",adultFilter:"af",clickBeaconServer:"cbs",serveBeaconServer:"sbs",Mobile:"mo",SrcTag:"st",DeskTop:"dt",TemplateOptions:"sto",AdOptions:"sao",font:"fo",cssLink:"cl",AdRange:"ar",Title:"ti",URL:"url",Description:"de",Lat:"lat",LocalAds:"la",MerchantRating:"mr",SiteLink:"sl",EnhancedSiteLink:"esl",SmartAnnotations:"smt",OfficialSiteBadge:"osb",CallExtension:"cex",Favicon:"fa",AdUnitLabel:"aul",ImageInAds:"iia",AdUnit:"au",fontsize:"fs",color:"co",backgroundColor:"bgc",borderColor:"bco",underline:"ul",bold:"bo",onHover:"oh",lineSpacing:"ls",adSpacing:"as",urlAboveDescription:"uad",adLayout:"al",labelId:"la",position:"po",align:"ali",size:"si",appendToImageSrcUrl:"aiu"},IFRAME_LOAD_TIMEOUT:7500,IFRAME_EXECUTION_TIMEOUT:500,AD_BLOCK_CHECK_WAIT:250,MODULE_LOAD_TIMEOUT:5e3,MODULE_EXECUTION_TIMEOUT:500,MODULE_URL_ROOT:n+"//"+("http:"===n?"l":"s")+".yimg.com/uv/dm/scripts/",FIRE_BEACON_PERCENTAGE:5,FALLBACK_SPACE_ID:"1197646563",NO_VALID_SLOTS_ERROR_BIT:0,SLOTS_CALL_FAILED_ERROR_BIT:1,AD_BLOCK_ENABLED_ERROR_BIT:2,LIGHTHOUSE_BEACON_SPACEID:"1197646563",FIRE_LIGHTHOUSE_BEACON_PERCENTAGE:1,YCPI_BUCKET_BIT:0,RAPID_BUCKET_BIT:1,LIGHTHOUSE_BUCKET_BIT:2,MANUAL_BEACON_URL:n+"//geo.yahoo.com/p?"},O=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},P=function(a){return null!==a&&void 0!==a},Q=function(a){return P(a)?(t()?delete a.DeskTop:delete a.Mobile,a):null},R=function(a,b){if("object"===O(a)){var c={};for(var d in a)a.hasOwnProperty(d)&&1!==c[d]&&(R(a[d],b),b[d]&&(a[b[d]]=a[d],c[b[d]]=1),delete a[d])}else if("array"===O(a)&&a.length)for(var e=0;e<a.length;e++)R(a[e],b)},S={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=S._utf8_encode(a);j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return i},decode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)e=this._keyStr.indexOf(a.charAt(j++)),f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,i+=String.fromCharCode(b),64!=g&&(i+=String.fromCharCode(c)),64!=h&&(i+=String.fromCharCode(d));return i=S._utf8_decode(i)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}},T=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+a()+a()}}(),U={_deepSearch:function(a,b,c){var d=b.split(/\./),e=0;for(e=0;e<d.length-1;e++)if(a[d[e]])a=a[d[e]];else{if(!c)return null;a[d[e]]={},a=a[d[e]]}return[a,d[e],a[d[e]]]},exists:function(a,b){var c=U._deepSearch(a,b);return P(c)&&P(c[2])},assignValue:function(a,b,c){var d=U._deepSearch(a,b,1);d&&(d[0][d[1]]=c)},getValue:function(a,b){var c=U._deepSearch(a,b);return c&&c[2]},deleteKey:function(a,b){var c=U._deepSearch(a,b);c&&delete c[0][c[1]]}},V=function(a,b,c){if(!a||!b||!c)return a;for(var d={},e=0;e<b.length;e++){var f=b[e];if(a[f])for(var g=0;g<c.length;g++){var h=c[g];if(d[h]=d[h]||{max:1,valueMap:{},emptyEntities:[]},U.exists(a[f],h)){var i=U.getValue(a[f],h);i.trim&&(i=i.trim()),d[h].valueMap[i]=d[h].valueMap[i]||{entities:[],count:0,effectiveness:-1-d[h].emptyEntities},d[h].valueMap[i].count++,d[h].valueMap[i].effectiveness++,d[h].valueMap[i].entities.push(f),d[h].valueMap[i].count>d[h].max&&(d[h].max=d[h].valueMap[i].count,d[h].maxVal=i)}else{for(var j in d[h].valueMap)d[h].valueMap.hasOwnProperty(j)&&d[h].valueMap[j].effectiveness--;d[h].emptyEntities.push(f)}}}for(var j in d)if(d.hasOwnProperty(j)&&P(d[j].maxVal)){var k=d[j].valueMap[d[j].maxVal];if(k.effectiveness>0){for(var e=0;e<k.entities.length;e++)U.deleteKey(a[k.entities[e]],j);for(var e=0;e<d[j].emptyEntities.length;e++)U.assignValue(a[d[j].emptyEntities[e]],j,"__");U.assignValue(a,j,d[j].maxVal)}}return a},W=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c},X={loadModules:function(a,b,c){new z(a,b,c)},registerModule:function(a,b){var c=v[a];c?(c.module=b,w(c)):v[a]={name:a,loaded:!0,module:b}}},Y=function(a,b){var c=k.createElement("img");c.src=N.MANUAL_BEACON_URL+"s="+N.FALLBACK_SPACE_ID+"&_E="+a+"&CoNo="+b+"&t="+Math.random()+"&e_s=m"},Z=function(a,b){this.data=a,this.rapid=null,this.waiting=[],this.call=b,this.init()},$=function(a){var b=A.plugins;a.TQpn=b?b.length:b,b=A.mimeTypes,a.TQmn=b?b.length:b,a.TQtab=p.name,b=p.history,a.TQth=b?b.length:b,a.TQlc=!!p.localStorage,a.TQh=B.height,a.TQw=B.width,a.TQpd=B.colorDepth,a.TQah=B.availHeight,a.TQaw=B.availWidth,a.TQih=p.innerHeight,a.TQoh=p.outerHeight,a.TQiw=p.innerWidth,a.TQow=p.outerWidth,a.TQsys=A.platform,a.TQto=(new Date).getTimezoneOffset(),a.TQjv=A.javaEnabled(),a.TQps=A.productSub,a.TQapp=A.appName,b=A.language,a.TQlg=b?b:A.browserLanguage},_=function(a){for(var b=A.plugins,c=Math.min(b.length,20),d=[],e=0;e<c;e++){var f={};f.desc=b[e].description,f.fn=b[e].filename,f.ln=b[e].length,f.name=b[e].name,d.push(f)}a.TQpn=d,b=A.mimeTypes,c=Math.min(b.length,20);for(var g=[],e=0;e<c;e++){var f={};f.desc=b[e].description,f.suf=b[e].suffixes,f.type=b[e].type,f.pln=b[e].enabledPlugin.filename,g.push(f)}a.TQmn=g},a=a,aa=function(a){var b=0,c=0;if(a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return[b,c]},ba=function(a,b,c,d){E.push({ele:a,callback:b,callbackContext:c,multiple:d}),G()},ca=function(a){var b="";if("array"===O(a)){b="[";for(var c=0;c<a.length;c++)b+=ca(a[c])+(c<d.length-1?",":"");b+="]"}else if("object"===O(a)){var d=[];b="{";for(var e in a)a.hasOwnProperty(e)&&d.push(e);d=d.sort();for(var c=0;c<d.length;c++)b+=d[c]+":"+ca(a[d[c]])+(c<d.length-1?",":"");b+="}"}else b+=a;return b},da={adSlotCallbackWrapper:function(a){if(a.bd&&(this.bd=a.bd,a.bd.adServeData&&this.call.serveBeacon(a.bd.adServeData),this.call.slotBeacon(a.bd.adSlotData),a.bd.viewAdsData&&ba(this.adframe,function(){this.bd.viewAdsData.viewTS=(new Date).getTime(),this.call.viewAdsBeacon(this.bd.viewAdsData)},this)),a.cbd){a.cbd.clkTS=(new Date).getTime();var b=aa(this.adframe);a.cbd.clkX+=b[0],a.cbd.clkY+=b[1],this.call.clickBeacon(a.cbd)}this.iframeHasReturned||(this.iframeHasReturned=!0,this.call.adSlotCallback(this))},adSlotCallback:function(a){this.slotCallbackWaitMap[a.slotId]&&(delete this.slotCallbackWaitMap[a.slotId],this.slotCallbackWaitCount--,0===this.slotCallbackWaitCount&&this.allSlotsReturned())},allSlotsReturned:function(){this.lh&&(this.lh.mark("mark_call_returned"),this.lh.measure("ad_request_delay",{startMark:"mark_script_beg",endMark:"mark_ad_requested"}),this.lh.measure("ad_call_delay",{startMark:"mark_ad_requested",endMark:"mark_call_made"}),this.lh.measure("ad_response_delay",{startMark:"mark_call_made",endMark:"mark_call_returned"})),this.fireBeaconBool&&(Y("AdsReturned",this.cono),!this.adServeData||this.failedSlots.length>0?(this.adServeData=this.adServeData||{aC:this.c,st:0,spaceid:N.FALLBACK_SPACE_ID,CoNo:this.cono},this.handleCallFailure(this.adServeData,function(a){H(a,this)})):(this.adServeData.st=0,H(this.adServeData,this)))},serveBeacon:function(a){I(this,"AdServeEvent",a)},slotBeacon:function(a){I(this,"AdSlotServeEvent",a)},clickBeacon:function(b){var c={};window.JSON&&($(c),b.TQfp=a(ca(c))),I(this,"AdClickEvent",b)},viewAdsBeacon:function(a){I(this,"ViewAdsEvent",a)},handleCallFailure:function(a,b){var c=this,d=this.validSlots.length>0?this.validSlots[0].ad_div:null,e=this.failedSlots.map?this.failedSlots.map(function(a){return a.slotId}):[];if(a.st|=(0===this.validSlots.length)<<N.NO_VALID_SLOTS_ERROR_BIT,e.length>0&&(a.fs=e.join(":"),a.st|=1<<N.SLOTS_CALL_FAILED_ERROR_BIT),d)try{var f=k.createElement("div");f.className="text-ad textAd text_ad text_ads text-ads text-ad-links",f.style="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",f.innerHTML="test",d.appendChild(f),setTimeout(function(){try{var d=null!==k.body.getAttribute("abp")||null===f.offsetParent||0==f.offsetHeight||0==f.offsetLeft||0==f.offsetTop||0==f.offsetWidth||0==f.clientHeight||0==f.clientWidth;if(void 0!==p.getComputedStyle){var e=p.getComputedStyle(f,null);d=d||"none"==e.getPropertyValue("display")||"hidden"==e.getPropertyValue("visibility")}a.st|=d<<N.AD_BLOCK_ENABLED_ERROR_BIT,b.call(c,a),f.remove&&f.remove()}catch(d){b.call(c,a)}},N.AD_BLOCK_CHECK_WAIT)}catch(d){b.call(c,a)}else b.call(this,a)}},ea=function(a,b){this.call=a,this.options=b,this.url="",this.psti="",this.psb="",this.iframeHasLoaded=!1,this.iframeHasReturned=!1},fa=function(){var a=p.performance||p.webkitPerformance||p.msPerformance||p.mozPerformance||p.Performance||{};return a.now=a.now||a.webkitNow||a.msNow||a.mozNow||function(){return(new Date).getTime()-L},a},ga=function(a){this.waiting=[],this.m={},this.call=a,window.LH?this.lighthouseLoaded(window.LH):X.loadModules(["lh"],this.lighthouseLoaded,this)},ha=function(a){M.callDetails.push(this),this.options=a,this.cono=T();try{this.optionsCopy=JSON.parse(JSON.stringify(a))}catch(a){}this.ts=0,this.c=a.ypaAdConfig||"",this.h="1",this.wd="1",this.tv=a.ypaAdTrafficType||"",this.pg=a.ypaPageCount||"",this.tt=a.ypaPubParams&&a.ypaPubParams.query||"",this.lo=a.ypaPubParams&&a.ypaPubParams.location||"",this.ty=a.ypaAdTypeTag||"",this.ie=a.ypaPubParams&&a.ypaPubParams.inputCharEnc||"",this.oe=a.ypaPubParams&&a.ypaPubParams.outputCharEnc||"",this.tg=a.ypaClickTarget||"",this.ao="",this.si="",this.validSlots=[],this.failedSlots=[],this.beacons=[],this.fireBeaconBool=100*Math.random()<N.FIRE_BEACON_PERCENTAGE,this.fireLHBeacon=this.fireBeaconBool&&Math.random()<N.FIRE_LIGHTHOUSE_BEACON_PERCENTAGE/N.FIRE_BEACON_PERCENTAGE,this.dT=this.fireBeaconBool<<N.RAPID_BUCKET_BIT|M.isYCPI<<N.YCPI_BUCKET_BIT|this.fireLHBeacon<<N.LIGHTHOUSE_BUCKET_BIT,this.slotCallbackWaitMap={},this.slotCallbackWaitCount=0,this.isWaitingForSlots=!1,this.fireLHBeacon&&(this.lh=new ga(this),this.lh.mark("mark_ad_requested")),this.fireBeaconBool&&Y("AdRequested",this.cono)};M.isYCPI=!0,z.prototype.moduleLoaded=function(a){this.modules.push(a),this.modules.length===this.modulesCount&&this.callback.apply(this.callbackContext,this.modules)},void 0===window.YAHOO&&(window.YAHOO={}),window.YAHOO.AsyncModuleLoader=X,Z.prototype.init=function(){window.YAHOO&&window.YAHOO.i13n&&window.YAHOO.i13n.Rapid?this.fire(window.YAHOO.i13n.Rapid):X.loadModules(["rapid"],this.fire,this)},Z.prototype.fire=function(a){var b=this.call;if(a){Y("InstantiateRapid",b.cono);var c=this.data.spaceid;this.data.e_s="r",delete this.data.spaceid,this.rapid=new a({spaceid:c,keys:this.data,apv:!1}),this.rapid.clearRapidAttribute(["keys"]);for(var d=0;d<this.waiting.length;d++)this.fireBeacon.apply(this,this.waiting[d]);b.lh&&b.lh.beacon(this),this.waiting=[]}else Y("RapidJSLoadFailure",b.cono)},Z.prototype.fireBeacon=function(a,b){if(b&&(b.e_s="r"),this.rapid)switch(a){case"AdClickEvent":this.rapid.beaconClick(b.sec,b.slk,b._p,b);break;case"AdPerfEvent":this.rapid.beaconPerformanceData(b);break;default:b&&(b.bts=(new Date).getTime()),this.rapid.beaconEvent(a,b)}else this.waiting.push([a,b])},W(window,"scroll",G),W(window,"resize",G),ea.prototype.validate=function(){var a=this.options;return a.ypaAdSlotId="string"===O(a.ypaAdSlotId)&&a.ypaAdSlotId.match(/^[\w-]+$/)?a.ypaAdSlotId:"",""!==a.ypaAdSlotId&&(a.ypaAdDivId="string"===O(a.ypaAdDivId)&&a.ypaAdDivId.match(/^[\w-]+$/)?a.ypaAdDivId:"",""!==a.ypaAdDivId&&null!=k.getElementById(a.ypaAdDivId)?(a.ypaAdWidth="string"===O(a.ypaAdWidth)&&a.ypaAdWidth.match(/^\d+(?:%|px)?$/)?a.ypaAdWidth:"0","0"!==a.ypaAdWidth&&(a.ypaAdHeight="string"===O(a.ypaAdHeight)&&a.ypaAdHeight.match(/^\d+$/)?a.ypaAdHeight:"0","0"!==a.ypaAdHeight&&(a.ypaAdResize=("boolean"!==O(a.ypaAdResize)||0!=a.ypaAdResize)&&void 0,a.ypaOnAd="function"===O(a.ypaOnAd)?a.ypaOnAd:"null",a.ypaOnNoAd="function"===O(a.ypaOnNoAd)?a.ypaOnNoAd:"null",a.clickBeacon="string"===O(a.clickBeacon)&&a.clickBeacon.match(/[^?\/]$/)?a.clickBeacon:"",a.serveBeacon="string"===O(a.serveBeacon)&&a.serveBeacon.match(/[^?\/]$/)?a.serveBeacon:"",this.slotId=a.ypaAdSlotId,!0))):void 0)},ea.prototype.buildSi=function(){var a=this.options,b=this.call,c=a.ypaAdSlotId+":"+a.ypaAdWidth+"x"+a.ypaAdHeight,d="",e="",f="";try{a.ypaSlotOptions&&(a.ypaSlotOptions.TemplateOptions=Q(a.ypaSlotOptions.TemplateOptions),a.ypaSlotOptions.AdOptions=Q(a.ypaSlotOptions.AdOptions),a.ypaSlotOptions.TemplateOptions&&V(a.ypaSlotOptions.TemplateOptions[Q.deviceKey],N.ENTITIES_KEYS,N.COMPRESS_KEYS),R(a.ypaSlotOptions,N.SHORTEN_NAME),a.ypaSlotOptions.sto&&(this.psti=JSON.stringify(a.ypaSlotOptions.sto)),a.ypaSlotOptions.sao&&(d=JSON.stringify(a.ypaSlotOptions.sao))),""!==d&&(c=c+"&psai="+S.encode(d)),a.serveBeacon?e=S.encode(a.serveBeacon):b.options.ypaAdTagOptions.serveBeacon&&(e=S.encode(b.options.ypaAdTagOptions.serveBeacon)),a.clickBeacon?f=S.encode(a.clickBeacon):b.options.ypaAdTagOptions.clickBeacon&&(f=S.encode(b.options.ypaAdTagOptions.clickBeacon)),e&&""!==e&&(this.psb="pssb="+e),f&&""!==f&&(""!==this.psb?this.psb=this.psb+"&pscb="+f:this.psb="pscb="+f)}catch(a){}return c},ea.prototype.makeCall=function(a){var b=this.options,c=b.ypaAdDivId+"-iframe",d=k.getElementById(c),e=this.call.si,f=k.getElementById(b.ypaAdDivId),g=k.createElement("iframe"),h="",i=b.ypaAdWidth,j=/^(\d+)$/.exec(i),l=this;e.split(/,/).forEach(function(a){var b=new RegExp("^"+l.options.ypaAdSlotId);h=a.match(b)?""==h?l.psb?a+"&"+l.psb:a:l.psb?h+","+a+"&"+l.psb:h+","+a:""==h?a:h+","+a});var m=h.replace(b.ypaAdSlotId,"p-"+b.ypaAdSlotId);K[c]=this,d&&d.remove&&d.remove(),j&&(i=j[1]+"px"),a+="&si="+J(m),""!==this.psti&&(a+="&psti="+S.encode(this.psti)),this.url=a,this.ad_div=f,this.adframe=g,g.id=c,g.name=c,g.src=a,g.frameBorder="0",g.marginWidth="0",g.marginHeight="0",g.scrolling="no",g.width=i,g.height=b.ypaAdHeight,g.allowTransparency="true",setTimeout(function(){l.iframeLoaded()},N.IFRAME_LOAD_TIMEOUT),W(g,"load",function(a){l.iframeLoaded()}),f.appendChild(g)},ea.prototype.iframeLoaded=function(){if(!this.iframeHasLoaded){this.iframeHasLoaded=!0;var a=this;setTimeout(function(){a.iframeHasReturned||(a.iframeHasReturned=!0,a.call.failedSlots.push(a),a.call.adSlotCallback(a))},N.IFRAME_EXECUTION_TIMEOUT)}},ea.prototype.adSlotCallback=function(a){var b=this.options,c=a.aC;a.cb&&(c||"function"===O(b.ypaOnNoAd)&&b.ypaOnNoAd(a.cb.errObj,this.options)),!a.rs||void 0!=b.ypaAdResize&&0==b.ypaAdResize||(c?this.adframe.height=a.rs.eH:this.adframe.height=0),this.adSlotCallbackWrapper(a)},ea.iframeIdToSlotMap=K,ea.prototype.adSlotCallbackWrapper=da.adSlotCallbackWrapper,j={name:"mark_script_beg",type:"mark",duration:0,startTime:fa().now()},ga.prototype.lighthouseLoaded=function(a){if(a){this.LH=a,a.init({spaceid:N.LIGHTHOUSE_BEACON_SPACEID,pvid:this.call.cono,rapidOnly:!0,tags:{conf_id:this.call.c,b:"test"}}),a.record("mark_script_beg",j),this.m.mark_script_beg=j;for(var b=0;b<this.waiting.length;b++)a[this.waiting[b].method].apply(this.LH,this.waiting[b].args);this.waiting=[]}},ga.prototype.mark=function(a){if(this.LH)this.m[a]=this.LH.mark(a);else{var b={name:a,type:"mark",duration:0,startTime:fa().now()};this.m[a]=b,this.waiting.push({method:"record",args:[a,b]})}},ga.prototype.measure=function(a,b){var c=this.m;b.startMark&&c[b.startMark]&&(b.startMark=c[b.startMark]),b.endMark&&c[b.endMark]&&(b.endMark=c[b.endMark]),this.LH?this.LH.measure(a,b):this.waiting.push({method:"measure",args:[a,b]})},ga.prototype.beacon=function(a){var b=this.LH;this.LH&&(a&&a.rapid&&a.fireBeacon("AdPerfEvent",{perf_usertime:b.rapidUserMetrics()}),b.clearMarks(),b.clearMeasures(),b.clearCustomEntries(),b.clearTags())},ha.prototype.validate=function(){if("array"!==O(this.options.ypaAdSlotInfo))return!1;for(i=0;i<this.options.ypaAdSlotInfo.length;i++){var a=new ea(this,this.options.ypaAdSlotInfo[i]);a.validate()&&(this.validSlots.push(a),""!==this.si&&(this.si+=","),this.si+=a.buildSi())}return this.validSlots.length>0},ha.prototype.makeCall=function(){var a=this.options;if(a.ypaAdTagOptions&&"object"===O(a.ypaAdTagOptions)){for(var b in a.ypaAdTagOptions)a.ypaAdTagOptions.hasOwnProperty(b)&&(a.ypaAdTagOptions[b]=Q(a.ypaAdTagOptions[b]));a.ypaAdTagOptions.serveBeaconServer&&a.ypaAdTagOptions.clickBeaconServer&&a.ypaAdTagOptions.serveBeaconServer===a.ypaAdTagOptions.clickBeaconServer&&(a.ypaAdTagOptions.clickBeaconServer="1"),R(a.ypaAdTagOptions,N.SHORTEN_NAME)}try{a.ypaAdTagOptions&&(this.ao=JSON.stringify(a.ypaAdTagOptions))}catch(a){}this.ts=(new Date).getTime(),this.u=l.href.substring(0,800);for(var c=N.HOST_URL+"/ypa/?ct=2&c="+J(this.c)+"&u="+J(this.u)+"&r="+J(k.referrer.substring(0,800))+"&w="+J(this.wd)+"&tv="+J(this.tv)+"&tt="+J(this.tt)+"&lo="+J(this.lo)+"&ty="+J(this.ty)+"&ts="+this.ts+"&ao="+S.encode(this.ao)+"&h="+J(this.h)+"&CoNo="+J(this.cono)+"&dT="+this.dT+(""===this.pg?"":"&pg="+this.pg)+(""===this.ie?"":"&ie="+this.ie)+(""===this.tg?"":"&tg="+this.tg)+(""===this.oe?"":"&oe="+this.oe)+(l!=p.top.location?"&if=1":"")+"&er="+(this.fireBeaconBool?1:0),d=0;d<this.validSlots.length;d++)this.validSlots[d].makeCall(c),this.slotCallbackWaitMap[this.validSlots[d].options.ypaAdSlotId]=1,this.slotCallbackWaitCount++;this.lh&&this.lh.mark("mark_call_made"),this.fireBeaconBool&&Y("AdCallMade",this.cono),0===this.slotCallbackWaitCount&&this.allSlotsReturned()},ha.prototype.adSlotCallback=da.adSlotCallback,ha.prototype.allSlotsReturned=da.allSlotsReturned,ha.prototype.serveBeacon=da.serveBeacon,ha.prototype.slotBeacon=da.slotBeacon,ha.prototype.clickBeacon=da.clickBeacon,ha.prototype.rightClickBeacon=da.rightClickBeacon,ha.prototype.viewAdsBeacon=da.viewAdsBeacon,ha.prototype.handleCallFailure=da.handleCallFailure,W(p,"message",function(a){if(p.postMessage){try{if(!a.data||!a.data.match(/^ypa/))return;var b=a.data.replace(/^ypa/,""),c=JSON.parse(b)}catch(a){return}if(a.origin!==N.HOST_URL||"ypapostmessage"!==c.evId)return;var d=ea.iframeIdToSlotMap[c.eNm];void 0!==d&&null!==d&&d.adSlotCallback(c)}}),window.ypaAds={insertMultiAd:function(a){var b=new ha(a);null===p.JSON||void 0===p.JSON?X.loadModules(["json"],function(a){b.validate()&&b.makeCall()}):b.validate()&&b.makeCall()}}}}();